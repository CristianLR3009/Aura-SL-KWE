<aura:component controller="obtenerCursosCompletados" implements="flexipage:availableForAllPageTypes,force:hasRecordId" access="global">
    <aura:attribute name="cursosCompletados" type="Curso_Completado__c[]" />
    <aura:attribute name="columns" type="List" />
    <aura:attribute name="errorMessage" type="String" />

    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />

    <aura:if isTrue="{!not(empty(v.errorMessage))}">
        <div class="slds-text-color_error">{!v.errorMessage}</div>
    </aura:if>

    <aura:if isTrue="{!not(empty(v.cursosCompletados))}">
        <lightning:card title="Cursos Completados">
            <aura:iteration items="{!v.cursosCompletados}" var="curso">
                <p>{!curso.Name} - Fecha de inicio: {!curso.Fecha_de_inicio__c} - Fecha de finalizaci√≥n: {!curso.Fecha_de_finalizaci_n__c}</p>
            </aura:iteration>
        </lightning:card>
    </aura:if>

    <!-- Mostrar mensaje si no hay cursos completados -->
    <aura:if isTrue="{!empty(v.cursosCompletados)}">
        <lightning:card title="Cursos Completados">
            <p>No se han encontrado cursos completados para este usuario.</p>
        </lightning:card>
    </aura:if>
    
    <aura:if isTrue="{!not(empty(v.cursosCompletados))}">
        <lightning:datatable 
        data="{!v.cursosCompletados}" 
        columns="{!v.columns}" 
        keyField="Id" 
        hideCheckboxColumn="true"
        class="slds-var-m-around_medium" />
    </aura:if>
</aura:component>	
